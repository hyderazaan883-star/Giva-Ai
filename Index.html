<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giva Ai</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Deep Slate */
            color: #e2e8f0;
        }

        /* Smooth Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        /* Message Animations */
        .message-enter {
            animation: slideIn 0.3s ease-out forwards;
            opacity: 0;
            transform: translateY(10px);
        }

        @keyframes slideIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Glassmorphism Panel */
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* Typing Indicator Dot Animation */
        .dot-flashing {
            position: relative;
            width: 6px;
            height: 6px;
            border-radius: 5px;
            background-color: #94a3b8;
            color: #94a3b8;
            animation: dot-flashing 1s infinite linear alternate;
            animation-delay: 0.5s;
        }
        .dot-flashing::before, .dot-flashing::after {
            content: '';
            display: inline-block;
            position: absolute;
            top: 0;
        }
        .dot-flashing::before {
            left: -10px;
            width: 6px;
            height: 6px;
            border-radius: 5px;
            background-color: #94a3b8;
            color: #94a3b8;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 0s;
        }
        .dot-flashing::after {
            left: 10px;
            width: 6px;
            height: 6px;
            border-radius: 5px;
            background-color: #94a3b8;
            color: #94a3b8;
            animation: dot-flashing 1s infinite alternate;
            animation-delay: 1s;
        }
        @keyframes dot-flashing {
            0% { background-color: #94a3b8; }
            50%, 100% { background-color: #334155; }
        }
    </style>
</head>
<body class="h-screen flex flex-col items-center justify-center relative overflow-hidden">

    <div class="absolute top-0 left-0 w-96 h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 -translate-x-1/2 -translate-y-1/2"></div>
    <div class="absolute bottom-0 right-0 w-96 h-96 bg-blue-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 translate-x-1/2 translate-y-1/2"></div>

    <main class="w-full max-w-4xl h-[90vh] glass-panel rounded-2xl shadow-2xl flex flex-col relative overflow-hidden z-10 mx-4">
        
        <header class="p-6 border-b border-white/10 flex justify-between items-center bg-slate-900/50">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-tr from-blue-500 to-purple-500 flex items-center justify-center shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5 text-white">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
                    </svg>
                </div>
                <h1 class="text-xl font-semibold tracking-wide text-white">Giva Ai</h1>
            </div>
            <button id="settings-btn" class="p-2 rounded-full hover:bg-white/10 transition-colors text-slate-400 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" />
                </svg>
            </button>
        </header>

        <div id="settings-panel" class="hidden absolute top-16 right-6 w-80 glass-panel rounded-xl p-6 z-20 shadow-xl border-t border-white/10 slide-in-top">
            <h2 class="text-sm uppercase tracking-wider text-slate-400 font-semibold mb-4">Configuration</h2>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-xs text-slate-400 mb-1">API Endpoint / Key</label>
                    <input type="password" id="api-key" placeholder="sk-..." class="w-full bg-slate-900/50 border border-white/10 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors text-white placeholder-slate-600">
                </div>
                <div>
                    <label class="block text-xs text-slate-400 mb-1">Model ID</label>
                    <input type="text" id="model-id" placeholder="e.g. gpt-4, llama-2" class="w-full bg-slate-900/50 border border-white/10 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors text-white placeholder-slate-600">
                </div>
                <button id="save-settings" class="w-full bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium py-2 rounded-lg transition-all shadow-lg shadow-blue-500/20">
                    Save Configuration
                </button>
            </div>
        </div>

        <div id="chat-container" class="flex-1 overflow-y-auto p-6 space-y-6">
            <div class="flex gap-4 message-enter">
                <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center text-xs font-bold text-white">G</div>
                <div class="flex flex-col gap-1">
                    <span class="text-xs text-slate-400 font-medium">Giva Ai</span>
                    <div class="bg-slate-800/50 border border-white/5 p-4 rounded-2xl rounded-tl-none text-sm leading-relaxed max-w-[85%]">
                        Hello! I am Giva. Please set up your API credentials in the settings menu to get started. How can I assist you today?
                    </div>
                </div>
            </div>
        </div>

        <div class="p-4 bg-slate-900/50 border-t border-white/10">
            <form id="chat-form" class="relative flex items-center gap-2">
                <input type="text" id="user-input" placeholder="Type a message to Giva..." class="w-full bg-slate-800/50 border border-white/10 rounded-xl pl-4 pr-12 py-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-white placeholder-slate-500 shadow-inner">
                
                <button type="submit" class="absolute right-2 p-2 bg-blue-600 rounded-lg text-white hover:bg-blue-500 transition-colors shadow-lg shadow-blue-600/20">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                        <path d="M3.105 2.289a.75.75 0 00-.826.95l1.414 4.925A1.5 1.5 0 005.135 9.25h6.115a.75.75 0 010 1.5H5.135a1.5 1.5 0 00-1.442 1.086l-1.414 4.926a.75.75 0 00.826.95 28.896 28.896 0 0015.293-7.154.75.75 0 000-1.115A28.897 28.897 0 003.105 2.289z" />
                    </svg>
                </button>
            </form>
            <div class="text-center mt-2">
                <p class="text-[10px] text-slate-500">Powered by Giva Ai â€¢ Configurable Model ID</p>
            </div>
        </div>
    </main>

    <script>
        // DOM Elements
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');
        const chatContainer = document.getElementById('chat-container');
        const settingsBtn = document.getElementById('settings-btn');
        const settingsPanel = document.getElementById('settings-panel');
        const saveSettingsBtn = document.getElementById('save-settings');
        const apiKeyInput = document.getElementById('api-key');
        const modelIdInput = document.getElementById('model-id');

        // Toggle Settings
        settingsBtn.addEventListener('click', () => {
            settingsPanel.classList.toggle('hidden');
        });

        // Load Saved Settings
        document.addEventListener('DOMContentLoaded', () => {
            const savedKey = localStorage.getItem('giva_api_key');
            const savedModel = localStorage.getItem('giva_model_id');
            if(savedKey) apiKeyInput.value = savedKey;
            if(savedModel) modelIdInput.value = savedModel;
        });

        // Save Settings
        saveSettingsBtn.addEventListener('click', () => {
            localStorage.setItem('giva_api_key', apiKeyInput.value);
            localStorage.setItem('giva_model_id', modelIdInput.value);
            settingsPanel.classList.add('hidden');
            appendMessage('system', 'Configuration saved successfully.');
        });

        // Handle Chat Submit
        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const message = userInput.value.trim();
            if (!message) return;

            // Add User Message
            appendMessage('user', message);
            userInput.value = '';
            
            // Show Loading Bubble
            const loadingId = appendLoading();
            chatContainer.scrollTop = chatContainer.scrollHeight;

            // Simulate AI Response (Replace this with actual API Fetch)
            // Example of how you would use the saved ID:
            // const apiKey = localStorage.getItem('giva_api_key');
            // const modelId = localStorage.getItem('giva_model_id');
            
            setTimeout(() => {
                removeLoading(loadingId);
                // Mock response for design demonstration
                appendMessage('ai', "This is a simulated response. Once you connect your backend logic in the script tag, I will use the Model ID: " + (localStorage.getItem('giva_model_id') || 'Default') + " to answer properly.");
            }, 1500);
        });

        // Helper: Append Message to UI
        function appendMessage(role, text) {
            const div = document.createElement('div');
            div.className = `flex gap-4 message-enter ${role === 'user' ? 'flex-row-reverse' : ''}`;
            
            const avatar = role === 'user' 
                ? `<div class="w-8 h-8 rounded-full bg-slate-700 flex-shrink-0 flex items-center justify-center text-xs text-white">U</div>`
                : `<div class="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center text-xs font-bold text-white">G</div>`;

            const bubbleStyle = role === 'user'
                ? `bg-blue-600 text-white rounded-tr-none`
                : `bg-slate-800/50 border border-white/5 rounded-tl-none text-slate-200`;

            div.innerHTML = `
                ${avatar}
                <div class="flex flex-col gap-1 items-${role === 'user' ? 'end' : 'start'}">
                    <span class="text-xs text-slate-400 font-medium">${role === 'user' ? 'You' : 'Giva Ai'}</span>
                    <div class="${bubbleStyle} p-4 rounded-2xl text-sm leading-relaxed max-w-lg shadow-sm">
                        ${text}
                    </div>
                </div>
            `;
            
            chatContainer.appendChild(div);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Helper: Loading Animation
        function appendLoading() {
            const id = 'loading-' + Date.now();
            const div = document.createElement('div');
            div.id = id;
            div.className = 'flex gap-4 message-enter';
            div.innerHTML = `
                <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex-shrink-0 flex items-center justify-center text-xs font-bold text-white">G</div>
                <div class="bg-slate-800/50 border border-white/5 p-4 rounded-2xl rounded-tl-none w-16 flex items-center justify-center">
                    <div class="dot-flashing"></div>
                </div>
            `;
            chatContainer.appendChild(div);
            return id;
        }

        function removeLoading(id) {
            const el = document.getElementById(id);
            if (el) el.remove();
        }
    </script>
</body>
  </html>
